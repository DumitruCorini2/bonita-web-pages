plugins {
    id 'com.bonitasoft.gradle.bonita-base-plugin' version '0.1.17'
}

bonitaBase {
    //this update the links inside the README.md when doing a release
    releaseHooks { updateFiles 'gradle.properties'}
}

subprojects {
    apply plugin: BonitaPagePlugin
    apply plugin: 'maven-publish'

    group 'org.bonitasoft.web.pages'

    bonitaPage {
        nodeVersion = '8.9.4'
        npmVersion = '5.6.0'
        frontendBuildDir = 'dist'
    }

    publishing {
        repositories {
            maven {
                name 'bonitaInternal'
                if (project.version.endsWith('-SNAPSHOT')) {
                    url 'http://repositories.rd.lan/maven/snapshots/'
                } else {
                    url 'http://repositories.rd.lan/maven/releases/'
                }
            }
        }

        publications {
            distributionZip(MavenPublication) { artifact distZip }
        }
    }
}